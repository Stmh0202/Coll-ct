<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Title</title>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <script src="https://unpkg.com/vue@3"></script>
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous"
    />
    <link rel="stylesheet" href="./index.css" />
    <link href="https://unpkg.com/tailwindcss@2.0.4/dist/tailwind.min.css" rel="stylesheet"/>
    <!-- Vue 3 -->
    <script src="https://cdn.jsdelivr.net/npm/vue@3.0.2/dist/vue.global.js"></script>
    <!-- Vue 3: production version, optimized for size and speed -->
    <!-- <script src='https://cdn.jsdelivr.net/npm/vue@3.0.2/dist/vue.global.prod.js'></script> -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  </head>


  <div id="bannerDiv flex flex-row">
      <img src="pictures/banner_image.svg" class="w-100" alt="logo" />      
      
      <p class="bannerLogo text-white absolute font-bold hover:opacity-50 transition duration-500">
      <a href="/index.html" >collÄ“ct</a>
      </p>
      <button class="inline-flex items-center absolute bottom-0 right-32 top-8 bg-white shadow-md hover:shadow-xl transition duration-500 hover:scale-105 text-black font-bold py-2 px-4 w-24 h-10 rounded-full">
        <img src=pictures/menu.svg alt="logo" />
        <img src="pictures/user.svg" class="ml-4" alt="logo" />
      </button>
    </div>
      
    <p class="absolute text-left top-36 left-28
      text-white font-bold text-4xl w-2/6">
      A kuh-lek-tiv formed by kampungs for kampungs</p>
      
      <div class="flex absolute top-16 ml-28 mt-48 rounded-lg">
          <div class="pt-2 relative mx-auto text-gray-600">
            <input class="text-md bg-white h-14 pl-5 pr-56 rounded-lg focus:outline-none transition duration-500 focus:scale-105 text-left"
              type="search" name="search" placeholder="Search"></input>
          
          </div> 
      
          <div class="pt-2 flex mx-auto text-gray-600">
            <input class="ml-2 text-md bg-white h-14 pl-4 pr-24 rounded-lg transition duration-500 hover:scale-105"
              type="search" name="search" placeholder="Location"></input>
            <button class=" text-left bg-black mb-4 hover:shadow-lg hover:scale-105 transition duration-500 text-white text-sm px-6 h-10 mt-3 absolute right-0 top-0 mr-2  rounded-md font-medium focus:outline-none focus:shadow-outline" type="button">
            Search
          </button>

          </div>
      
      </div>
     
    
    <h1 class="mx-32 flex bannerDiv mt-16 text-2xl font-bold">Ongoing Collectives</h1>
    <div id="alltheitems" class="mx-28 flex overflow-x-auto space-x-8 noScrollbar">

    
  </div>

    

  <script>

$(async () => {
        // Change serviceURL to your own
        var serviceURL = "http://127.0.0.1:5000/storeitems";
        var groupbyURL = "http://127.0.0.1:5100/gb_tracking";
        // result2.data.gbt.item_id
        try {
          const response = await fetch(serviceURL, { method: "GET" });
          const result = await response.json();
          
          if (response.status === 200) {
            console.log(result.data.items)
            for(each of result.data.items){
              eachData = "<div  class='mt-8 flex-none transition duration-500 hover:scale-105 cursor-pointer mb-8 ml-4 mr-4' >" 
              + '<img src="pictures/rattanchair.svg" alt="productImg" class="object-cover rounded-2xl w-64 h-72 hover:shadow-lg"/>' +
              "<h2 class='flex text-lg font-bold mt-4'>" +
                each.itemName
              + "</h2>"
              + " <p class='flex text-sm'>"
              + each.description
              + "</p>"
                + "<div class='flex'>"
                  + "<p class='flex text-lg font-bold mt-1'>"
                  + "$" + each.discountedPrice
                  + "</p>"
                  + "<p class='flex ml-2 text-md font-medium mt-1.5 line-through'>"
                  + "$" + each.originalPrice 
                  + "</p>"
                    + "<img src='pictures/profile.svg' alt='profile' class='ml-8 mt-1 object-none rounded-full w-7 h-7'/>"
                    + "<img src='pictures/profile.svg' alt='profile' class='ml-1 mt-1 object-none rounded-full w-7 h-7'/>"
                + "</div>"
              + "</div>"
              $("#alltheitems").append(eachData);
            }
            
          }
        } catch (error) {
          // Errors when calling the service; such as network error,
          // service offline, etc
          console.log(error);
        } // error
      });  
    
    // Vue.createApp({
    //   data() {
    //     return {
    //       items: [],
    //       serviceURL: "http://127.0.0.1:5000/storeitems",
    //       groupbyURL: "http://127.0.0.1:5100/gb_tracking"
    //     }
    //   },
    //   computed: {

    //   }
    // }).mount('#app')
     
    </script>
    <script>
      src =
        "https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js";
      integrity =
        "sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM";
      crossorigin = "anonymous";
    </script>
  </body>
</html>
